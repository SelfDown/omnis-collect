service:
  # 查询任务
  - key: "developing_costs_query"
    module: 'mysql'# 执行mysql 查询
    params:
      pagination: # 查询分页
        default: true
        type: bool
      page:
        default: 1
        type: int
      size:
        default: 20
        type: int
      start_row:
        exp: '({page}-1)*{size}'
        default: 0
      start_date: #开始日期
        default: ''
      end_date: # 结束日期
        default: ''
    log_sql: true
    sql_file: 'developing_costs_query.sql'
    count_params:
      pagination: # 总数不分页
        default: false
        type: bool
    count_sql: 'developing_costs_count.sql'

  # 项目
  - key: "developing_costs_save"
    module: 'model_save'# 执行mysql 查询
    model: DevelopingCosts
    params:
      developing_costs_id:
        template: "{{ '' |uuid}}"
        default: ''
        name: ID
      create_time:
        template: "{{'' |current_date_time}}"
        default: ''
        name: 创建时间
      start_date:
        name: 开始日期
      end_date:
        name: 结束日期
      costs:
        name: 费用
      project_id:
        name: 项目
      hrm_department_id:
        name: 部门

  - key: "developing_costs_update"
    module: 'model_save' # 执行mysql 查询
    model: DevelopingCosts
    params:
      developing_costs_id:
        check:
          template: "{{ developing_costs_id |exist(field_key='developing_costs_id') }}"
          err_msg: "费用记录已经不存在！"
        name: id
      start_date:
        name: 开始日期
      end_date:
        name: 结束日期
      costs:
        name: 费用
      project_id:
        name: 项目
      hrm_department_id:
        name: 部门

    exclude_save_field: # 排除保存： exclude_save_field。仅保存：include_save_field
      - developing_costs_id
      - create_time


  - key: "developing_costs_delete"
    module: 'model_delete' # 执行模型删除
    model: DevelopingCosts
    params:
      developing_costs_id_list:
        check:
          template: "{{ developing_costs_id_list |must_list }}"
          err_msg: "费用记录不能为空！"
        name: id
    filter:
      developing_costs_id__in: developing_costs_id_list
    operation: # 预留口子，做假删除
      method: 'delete'

