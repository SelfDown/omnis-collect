service:
  # 项目
  - key: "get_omnis_template"
    module: 'monitor'# 执行监控 查询
    must_login: false
    data_json: template_query.json
    log: true
    result_handler:
      - key: arr2obj


  - key: link_template
    module: 'monitor'
    log: true
    params:
      template_list:
        check:
          template: "{{template_list|must_list}}"
          err_msg: "请选择模板列表"
      host_list:
        check:
          template: "{{host_list|must_list}}"
          err_msg: "请选择主机"
    data_json: link_template.json
  - key: unlink_template
    module: 'monitor'
    log: true
    params:
      templateid_list:
        check:
          template: "{{templateid_list|must_list}}"
          err_msg: "请选择模板列表"
      hostid_list:
        check:
          template: "{{hostid_list|must_list}}"
          err_msg: "请选择主机"
    data_json: unlink_template.json

  - key: get_jmx_template
    module: 'monitor'
    log: true
    params:
      templateid_list:
        check:
          template: "{{templateid_list|must_list}}"
          err_msg: "请选择模板列表"
    data_json: jmx_template.json
  # 项目
  - key: "get_template_by_hostid"
    module: 'monitor'# 执行监控 查询
    params:
      hostid:
        check:
          template: "{{hostid|must}}"
          err_msg: "主机不能为空"
    must_login: false
    data_json: template_query_by_host_id.json
    log: true
    result_handler:
      - key: val2param
        params:
          template: "{{templateid}}"
          to_field: templateid_list
      - key: param2result
        params:
          field: templateid_list



  - key: get_parent_templateid
    module: 'monitor'
    log: true
    params:
      hostid_list:
        check:
          template: "{{hostid_list|must_list}}"
          err_msg: "主机列表不能为空"
    data_json: parent_templateid.json
    result_handler:
      - key: value_arr
        params:
         template: parentTemplates


